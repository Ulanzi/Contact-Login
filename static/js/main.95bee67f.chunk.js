(this["webpackJsonpcontact-page"]=this["webpackJsonpcontact-page"]||[]).push([[0],{105:function(e,t,n){e.exports={header:"Header_header__1N7Sq",loginBlock:"Header_loginBlock__1SnCR",loginColor:"Header_loginColor__18Qxq"}},284:function(e,t,n){},285:function(e,t,n){},333:function(e,t,n){"use strict";n.r(t);var r,c=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,342)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),i(e),a(e)}))},i=n(15),a=n(25),o=n.n(a),s=n(49),l=n(1),u=n(154),j=n.n(u);!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(r||(r={}));var d=j.a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"api-key":"237de4a2-60b4-4d3d-a09d-4c3e2f0c5c52"}}),b=function(e){return d.get("profile/"+e)},h=function(e){return d.put("profile",e)},p=function(){return d.get("auth/me")},f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return d.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r})},O=function(){return d.delete("auth/login")},m=function(){return d.get("security/get-captcha-url")},x=n(52),v="SET_USER_PROFILE",g={profile:null},_=function(e){return function(){var t=Object(s.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b(e);case 2:r=t.sent,n((c=r.data,{type:v,profile:c}));case 4:case"end":return t.stop()}var c}),t)})));return function(e){return t.apply(this,arguments)}}()},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;return t.type===v?Object(l.a)(Object(l.a)({},e),{},{profile:t.profile}):e},y="auth/SET_USER_DATA",S="auth/GET_CAPTCHA_URL_SUCCESS",k={id:null,email:null,login:null,isAuth:!1,captchaUrl:null},w=function(e,t,n,r){return{type:y,payload:{id:e,email:t,login:n,isAuth:r}}},P=function(e){return{type:S,payload:{captchaUrl:e}}},E=function(){return function(){var e=Object(s.a)(o.a.mark((function e(t){var n,r,c,i,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:0===(n=e.sent).data.resultCode&&(r=n.data.data,c=r.id,i=r.login,a=r.email,t(w(c,a,i,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},I=function(){return function(){var e=Object(s.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:n=e.sent,r=n.data.url,t(P(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:case S:return Object(l.a)(Object(l.a)({},e),t.payload);default:return e}},A=n(156),U=n(153),M="INITIALIZED_SUCCESS",F={initialized:!1},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;return t.type===M?Object(l.a)(Object(l.a)({},e),{},{initialized:!0}):e},L=Object(i.c)({contentPage:C,auth:N,form:U.a,app:T}),z=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,B=Object(i.e)(L,z(Object(i.a)(A.a)));window.__store__=B;var D=B,R=n(0),H=n.n(R),q=n(28),J=n.n(q),Q=(n(284),n(21)),V=n(22),K=n(24),X=n(23),Y=(n(285),n(41)),G=n(13),W=n(4),Z=n(56),$=n.n(Z),ee=n.p+"static/media/preloader06.72627050.svg",te=n(2),ne=function(){return Object(te.jsx)("img",{src:ee})},re=n(151),ce=n(152),ie=n(10),ae=n(42),oe=n.n(ae),se=["meta","children"],le=["input","meta"],ue=function(e){var t=e.meta,n=t.touched,r=t.error,c=e.children,i=(Object(ie.a)(e,se),n&&r);return Object(te.jsxs)("div",{className:oe.a.formControl+" "+(i?oe.a.error:""),children:[Object(te.jsxs)("div",{children:[c," "]}),i&&Object(te.jsx)("span",{children:r}),"  "]})},je=function(e){var t=e.input,n=(e.meta,Object(ie.a)(e,le));return Object(te.jsx)(ue,Object(l.a)(Object(l.a)({},e),{},{children:Object(te.jsx)("input",Object(l.a)(Object(l.a)({},t),n))}))},de=Object(ce.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,n=e.profile,r=e.error;return Object(te.jsx)("form",{onSubmit:t,children:Object(te.jsxs)("div",{children:[Object(te.jsxs)("div",{children:[" ",Object(te.jsx)("button",{children:"save"})," "]}),r&&Object(te.jsxs)("div",{className:oe.a.formSummaryError,children:[" ",r," "]})," ",Object(te.jsxs)("div",{children:[Object(te.jsx)("b",{children:"Contacts"})," : ",Object.keys(n.contacts).map((function(e){return Object(te.jsx)("div",{className:$.a.contact,children:Object(te.jsxs)("b",{children:[e,": ",Object(te.jsx)(re.a,{placeholder:e,name:"contacts."+e,component:je})]})},e)}))," "]})]})})})),be=function(e){return Object(te.jsxs)("div",{children:[e.isOwner&&Object(te.jsx)("div",{className:$.a.buttonEdit,children:Object(te.jsx)("button",{onClick:e.goToEditMode,children:"edit"})}),Object(te.jsxs)("div",{children:[Object(te.jsx)("b",{children:"Contacts"})," : ",Object.keys(e.profile.contacts).map((function(t){return Object(te.jsx)(he,{contactTitle:t,contactValue:e.profile.contacts[t]},t)}))," "]})]})},he=function(e){var t=e.contactTitle,n=e.contactValue;return Object(te.jsxs)("div",{className:$.a.contact,children:[Object(te.jsx)("b",{children:t})," : ",n," "]})},pe=function(e){var t=Object(R.useState)(!1),n=Object(W.a)(t,2),r=n[0],c=n[1];if(!e.profile)return Object(te.jsx)(ne,{});return Object(te.jsx)("div",{children:Object(te.jsx)("div",{className:$.a.descriptionBlock,children:r?Object(te.jsx)(de,{initialValues:e.profile,profile:e.profile,onSubmit:function(t){e.saveProfile(t).then((function(){c(!1)}))}}):Object(te.jsx)("div",{className:$.a.profile,children:Object(te.jsx)(be,{goToEditMode:function(){c(!0)},profile:e.profile,isOwner:e.isOwner})})})})},fe=function(e){return Object(te.jsx)("div",{children:Object(te.jsx)(pe,{isOwner:e.isOwner,profile:e.profile,saveProfile:e.saveProfile})})},Oe=n(19),me=["isAuth"],xe=function(e){return{isAuth:e.auth.isAuth}};var ve=function(e){Object(K.a)(n,e);var t=Object(X.a)(n);function n(){return Object(Q.a)(this,n),t.apply(this,arguments)}return Object(V.a)(n,[{key:"refreshProfile",value:function(){var e=this.props.match?this.props.match.params.userId:this.props.authorizedUserId;this.props.getUserProfile(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.match!=e.match&&this.refreshProfile()}},{key:"render",value:function(){return Object(te.jsx)(fe,Object(l.a)(Object(l.a)({},this.props),{},{profile:this.props.profile,isOwner:!this.props.match}))}}]),n}(H.a.Component),ge=Object(i.d)(Object(Oe.b)((function(e){return{profile:e.contentPage.profile,authorizedUserId:e.auth.id,isAuth:e.auth.isAuth}}),{getUserProfile:_,saveProfile:function(e){return function(){var t=Object(s.a)(o.a.mark((function t(n,r){var c,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=r().auth.id,t.next=3,h(e);case 3:if(0!==(i=t.sent).data.resultCode){t.next=8;break}n(_(c)),t.next=10;break;case 8:return n(Object(x.a)("edit-profile",{_error:i.data.messages[0]})),t.abrupt("return",Promise.reject(i.data.messages[0]));case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),(function(e){return Object(Oe.b)(xe,{})((function(t){var n=t.isAuth,r=Object(ie.a)(t,me);return n?Object(te.jsx)(e,Object(l.a)({},r)):Object(te.jsx)(G.a,{to:"/login"})}))}))((function(e){var t=Object(G.g)("/profile/:userId/");return Object(te.jsx)(ve,Object(l.a)(Object(l.a)({},e),{},{match:t}))})),_e=n(105),Ce=n.n(_e),ye=function(e){return Object(te.jsx)("header",{className:Ce.a.header,children:Object(te.jsx)("div",{className:Ce.a.loginBlock,children:e.isAuth?Object(te.jsxs)("div",{children:[e.login," - ",Object(te.jsx)("button",{onClick:e.logout,children:"Log out"})]}):Object(te.jsx)(Y.b,{to:"/login",children:Object(te.jsx)("h2",{className:Ce.a.loginColor,children:"Login"})})})})},Se=function(e){Object(K.a)(n,e);var t=Object(X.a)(n);function n(){return Object(Q.a)(this,n),t.apply(this,arguments)}return Object(V.a)(n,[{key:"render",value:function(){return Object(te.jsx)(ye,Object(l.a)({},this.props))}}]),n}(H.a.Component),ke=Object(Oe.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(s.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:0===e.sent.data.resultCode&&t(w(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Se),we=function(e){if(!e)return"Field is required"},Pe=Object(ce.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error,r=e.captchaUrl;return Object(te.jsxs)("form",{onSubmit:t,children:[Object(te.jsx)("div",{children:"\u0417\u0434\u0440\u0430\u0432\u0441\u0442\u0432\u0443\u0439\u0442\u0435!"}),Object(te.jsx)("div",{className:oe.a.loginPadding,children:"\u0414\u043b\u044f \u0432\u0445\u043e\u0434\u0430 \u043d\u0430 \u0441\u0430\u0439\u0442, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0441\u043b\u0435\u0434\u0443\u0449\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0435:"}),Object(te.jsx)("div",{children:"Email:  serj.molotok@gmail.com"}),Object(te.jsx)("div",{children:"Password:  yH565vD"}),Object(te.jsxs)("div",{className:oe.a.formPadding,children:[Object(te.jsx)(re.a,{placeholder:"Email",validate:[we],name:"email",component:je})," "]}),Object(te.jsx)("div",{children:Object(te.jsx)(re.a,{placeholder:"Password",validate:[we],name:"password",component:je})}),Object(te.jsxs)("div",{children:[Object(te.jsx)(re.a,{type:"checkbox",name:"rememberMe",component:je})," remember me"]}),Object(te.jsxs)("div",{children:[" ",r&&Object(te.jsx)("img",{src:r})," "]}),Object(te.jsxs)("div",{children:[" ",r&&Object(te.jsx)(re.a,{placeholder:"Symbols from image",validate:[we],name:"captcha",component:je})," "]}),n&&Object(te.jsxs)("div",{className:oe.a.formSummaryError,children:[" ",n," "]})," ",Object(te.jsx)("div",{children:Object(te.jsx)("button",{children:"Login"})})]})})),Ee=Object(Oe.b)((function(e){return{isAuth:e.auth.isAuth,captchaUrl:e.auth.captchaUrl}}),{login:function(e,t,n,r){return function(){var c=Object(s.a)(o.a.mark((function c(i){var a,s;return o.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,f(e,t,n,r);case 2:0===(a=c.sent).data.resultCode?i(E()):(10===a.data.resultCode&&i(I()),s=a.data.messages.length>0?a.data.messages[0]:"Some error",i(Object(x.a)("login",{_error:s})));case 4:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()}})((function(e){return e.isAuth?Object(te.jsx)(G.a,{replace:!0,to:"/profile"}):Object(te.jsxs)("div",{children:[Object(te.jsx)("h1",{children:"Login"}),Object(te.jsx)(Pe,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe,t.captcha)},captchaUrl:e.captchaUrl})]})})),Ie=(n(331),n(340)),Ne=n(339),Ae=n(341),Ue=Ie.a.SubMenu,Me=Ne.a.Content,Fe=Ne.a.Sider,Te=function(e){Object(K.a)(n,e);var t=Object(X.a)(n);function n(){return Object(Q.a)(this,n),t.apply(this,arguments)}return Object(V.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(te.jsxs)(Ne.a,{children:[Object(te.jsx)(ke,{}),Object(te.jsx)(Me,{style:{padding:"0 50px"},children:Object(te.jsxs)(Ne.a,{className:"site-layout-background",style:{padding:"24px 0"},children:[Object(te.jsx)(Fe,{className:"site-layout-background",width:200,children:Object(te.jsx)(Ie.a,{mode:"inline",defaultOpenKeys:["sub1"],style:{height:"100%"},children:Object(te.jsx)(Ue,{icon:Object(te.jsx)(Ae.a,{}),title:"Menu",children:Object(te.jsxs)(Ie.a.Item,{children:[" ",Object(te.jsx)(Y.b,{to:"/profile",children:"Contacts"})]},"1")},"sub1")})}),Object(te.jsx)(Me,{style:{padding:"0 24px",minHeight:280},children:Object(te.jsxs)(G.d,{children:[Object(te.jsx)(G.b,{path:"/profile/*",element:Object(te.jsx)(ge,{})}),Object(te.jsx)(G.b,{path:"/ContactPage",element:Object(te.jsx)(Ee,{})}),Object(te.jsx)(G.b,{path:"/login",element:Object(te.jsx)(Ee,{})}),Object(te.jsx)(G.b,{path:"/profile/:userId",element:Object(te.jsx)(ge,{})})]})})]})})]}):Object(te.jsx)(ne,{})}}]),n}(R.Component),Le=Object(Oe.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(E());Promise.all([t]).then((function(){e({type:M})}))}}})(Te);J.a.render(Object(te.jsx)(H.a.StrictMode,{children:Object(te.jsx)(Y.a,{children:Object(te.jsxs)(Oe.a,{store:D,children:[" ",Object(te.jsx)(Le,{})]})})}),document.getElementById("root")),c()},42:function(e,t,n){e.exports={formControl:"FormsControls_formControl__1ky8C",error:"FormsControls_error__1lQbg",formSummaryError:"FormsControls_formSummaryError__1W8gQ",formFullName:"FormsControls_formFullName__2FBfg",formPadding:"FormsControls_formPadding__2diYd",loginPadding:"FormsControls_loginPadding__1yifC"}},56:function(e,t,n){e.exports={descriptionBlock:"ContentInfo_descriptionBlock__1j1tJ",center:"ContentInfo_center__1tqrK",mainPhoto:"ContentInfo_mainPhoto__36zjo",InputMainPhoto:"ContentInfo_InputMainPhoto__24Nhd",headerPhoto:"ContentInfo_headerPhoto__Mmajv",buttonEdit:"ContentInfo_buttonEdit__3JQ2s",profile:"ContentInfo_profile__2NwsM",contact:"ContentInfo_contact__LlM3p",paddingStatus:"ContentInfo_paddingStatus__Ye8E8",fullName:"ContentInfo_fullName__2biLo"}}},[[333,1,2]]]);
//# sourceMappingURL=main.95bee67f.chunk.js.map